<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Todo list...</title>
  
  
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
<style>
    *{
        /* background: url(https://tse2.mm.bing.net/th?id=OIP.acPmDMiw9q-NgpAWmyzTQgHaEK&pid=Api&P=0) */

color: black;
font-style:italics;
background-color:peru;
    }
    .text-center{
        color: antiquewhite;
        /* text-align: center;
        display: flex;
        justify-content: center; */
    }
</style>  
</head>
 
  <body>
    <div class="collapse" id="navbarToggleExternalContent">
        <div class="bg-dark p-4">
          <!-- <h5 class="text-white h4">Collapsed content</h5> -->

          <span class="text-muted">Toggleable via the navbar brand.</span>
        </div>
      </div>
      <nav class="navbar navbar-dark bg-dark">
          <div class="container-fluid">
              <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarToggleExternalContent" aria-controls="navbarToggleExternalContent" aria-expanded="false" aria-label="Toggle navigation">
                  <span class="navbar-toggler-icon"></span>
                </button>
                <div class="text-center">
                <h1 >Todo list.... </h1>
              </div>
        </div>
      </nav>
    
    
 
    <!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script> -->
 


    
        <div class="mb-3">
          <label for="title" ><h1>Add Tasks Here..</h1></label>
          <input type="text" class="form-control" id="title" aria-describedby="emailHelp" placeholder="Enter your task here...">
          <div id="emailHelp" class="form-text"><h1><hr><hr></h1></div>
        </div>
        
           <button type="submit" id ="add" class="btn btn-primary">Submit</button>
<div id="items" class="my-4">
    <h2>Your Today's tasks.....</h2>
    <table class="table">
        <thead>
          <tr>
            <th scope="col">S.No.</th>

            <th scope="col">Tasks</th>
            <th scope="col">Actions</th>
                </tr>
        </thead>
        <tbody id="tablebody">
          <tr>
            <th scope="row">1</th>
            <td>coding karni h...</td>
            <td><button class="btn btn-primary">Delete</button></td>
            
          </tr>
          
        </tbody>
      </table>
</div>
<script>

function getandupdate(){
    tit=document.getElementById('title').value;
        if(localStorage.getItem('itemJson')==null){
            itemJsonArray=[];
            itemJsonArray.push([tit]);
localStorage.setItem('itemJson',JSON.stringify(itemJsonArray))
        }
        else{
            itemJsonArrayStr=localStorage.getItem('itemJson')
            itemJsonArray=JSON.parse(itemJsonArrayStr)
            itemJsonArray.push([tit]);
            localStorage.setItem('itemJson',JSON.stringify(itemJsonArray))
        }
  update();
}
function update(){
    if(localStorage.getItem('itemJson')==null){
            itemJsonArray=[];
            // itemJsonArray.push([tit]);
localStorage.setItem('itemJson',JSON.stringify(itemJsonArray))
        }
        if(localStorage.getItem('itemJson')==null){
            itemJsonArray=[];
            itemJsonArray.push([tit]);
localStorage.setItem('itemJson',JSON.stringify(itemJsonArray))
        }
        else{
            itemJsonArrayStr=localStorage.getItem('itemJson')
            itemJsonArray=JSON.parse(itemJsonArrayStr)
            }
       let  tabody=document.getElementById("tablebody")
        let str="";
        itemJsonArray.forEach((element,index)=>{
            
       
        str+=`
        <tr>
            <th scope="row">${index+=1}</th>
            <td>${element[0]}</td>
            <td><button class="btn btn-primary" onclick="deleted(${index-1})">Delete</button></td>
            
          </tr>`;
    });
    tabody.innerHTML=str;
   
}
    add=document.getElementById("add");
    add.addEventListener("click",()=>{
getandupdate();
document.getElementById('title').value="";
    })
  
update();
function deleted(itemindex){
    console.log("delete",itemindex);
    itemJsonArrayStr=localStorage.getItem('itemJson')
    itemJsonArray=JSON.parse(itemJsonArrayStr);
    itemJsonArray.splice(itemindex,1);
    localStorage.setItem('itemJson',JSON.stringify(itemJsonArray));
    update();
}

</script>

    
</body>
</html>